{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{FormBody}from'../components';import{connect}from'react-redux';import{updateExpense,resetSaved}from'../actions/expense_actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditComponent(props){var isInitialMount=useRef(true);useEffect(function(){if(isInitialMount.current){isInitialMount.current=false;}else{var updated=props.updated,_resetSaved=props.resetSaved;if(updated){_resetSaved();props.history.push('/');}}});function submit(values){var item=props.location.state.item;values._id=item._id;props.updateExpense(values);}var item;try{item=props.location.state.item;}catch(e){item=undefined;}if(!item)props.history.push('/');return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit expense\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(FormBody,{onSubmit:submit,btnTxt:\"Update\",expense:item})]});}var mapStateToProps=function mapStateToProps(_ref){var expense=_ref.expense;return{updated:expense.updated};};var Edit=connect(mapStateToProps,{resetSaved:resetSaved,updateExpense:updateExpense})(EditComponent);export{Edit};","map":{"version":3,"sources":["C:/Users/ahmed/Documents/mern-expense-app/client/src/pages/Edit.js"],"names":["React","useRef","useEffect","FormBody","connect","updateExpense","resetSaved","EditComponent","props","isInitialMount","current","updated","history","push","submit","values","item","location","state","_id","e","undefined","marginTop","mapStateToProps","expense","Edit"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,OAASC,QAAT,KAAyB,eAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,aAAT,CAAwBC,UAAxB,KAA0C,4BAA1C,C,wFAGA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAE1B,GAAMC,CAAAA,cAAc,CAAGR,MAAM,CAAC,IAAD,CAA7B,CACAC,SAAS,CAAC,UAAM,CACZ,GAAIO,cAAc,CAACC,OAAnB,CAA4B,CACxBD,cAAc,CAACC,OAAf,CAAyB,KAAzB,CACH,CAFD,IAEO,CACH,GAAQC,CAAAA,OAAR,CAAgCH,KAAhC,CAAQG,OAAR,CAAiBL,WAAjB,CAAgCE,KAAhC,CAAiBF,UAAjB,CACA,GAAIK,OAAJ,CAAa,CACTL,WAAU,GACVE,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CACJ,CACJ,CAVQ,CAAT,CAYA,QAASC,CAAAA,MAAT,CAAgBC,MAAhB,CAAwB,CACpB,GAAMC,CAAAA,IAAI,CAAGR,KAAK,CAACS,QAAN,CAAeC,KAAf,CAAqBF,IAAlC,CACAD,MAAM,CAACI,GAAP,CAAaH,IAAI,CAACG,GAAlB,CACAX,KAAK,CAACH,aAAN,CAAoBU,MAApB,EACH,CAED,GAAIC,CAAAA,IAAJ,CACA,GAAI,CACAA,IAAI,CAAGR,KAAK,CAACS,QAAN,CAAeC,KAAf,CAAqBF,IAA5B,CACH,CAAC,MAAOI,CAAP,CAAU,CACRJ,IAAI,CAAGK,SAAP,CACH,CAED,GAAI,CAACL,IAAL,CAAWR,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EAEX,mBACI,aAAK,KAAK,CAAE,CAAES,SAAS,CAAE,EAAb,CAAZ,wBACI,oCADJ,cAEI,aAFJ,cAGI,KAAC,QAAD,EACI,QAAQ,CAAER,MADd,CAEI,MAAM,CAAC,QAFX,CAGI,OAAO,CAAEE,IAHb,EAHJ,GADJ,CAWH,CAED,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACrC,MAAO,CACHb,OAAO,CAAEa,OAAO,CAACb,OADd,CAAP,CAGH,CAJD,CAOA,GAAMc,CAAAA,IAAI,CAAGrB,OAAO,CAACmB,eAAD,CAAkB,CAAEjB,UAAU,CAAVA,UAAF,CAAcD,aAAa,CAAbA,aAAd,CAAlB,CAAP,CAAwDE,aAAxD,CAAb,CACA,OAASkB,IAAT","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\nimport { FormBody } from '../components'\r\nimport { connect } from 'react-redux'\r\nimport { updateExpense, resetSaved } from '../actions/expense_actions'\r\n\r\n\r\nfunction EditComponent(props) {\r\n\r\n    const isInitialMount = useRef(true);\r\n    useEffect(() => {\r\n        if (isInitialMount.current) {\r\n            isInitialMount.current = false;\r\n        } else {\r\n            const { updated, resetSaved } = props\r\n            if (updated) {\r\n                resetSaved();\r\n                props.history.push('/')\r\n            }\r\n        }\r\n    });\r\n\r\n    function submit(values) {\r\n        const item = props.location.state.item\r\n        values._id = item._id\r\n        props.updateExpense(values)\r\n    }\r\n\r\n    let item\r\n    try {\r\n        item = props.location.state.item\r\n    } catch (e) {\r\n        item = undefined\r\n    }\r\n\r\n    if (!item) props.history.push('/')\r\n\r\n    return (\r\n        <div style={{ marginTop: 20 }}>\r\n            <h3>Edit expense</h3>\r\n            <hr />\r\n            <FormBody\r\n                onSubmit={submit}\r\n                btnTxt='Update'\r\n                expense={item}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ expense }) => {\r\n    return {\r\n        updated: expense.updated\r\n    };\r\n};\r\n\r\n\r\nconst Edit = connect(mapStateToProps, { resetSaved, updateExpense })(EditComponent)\r\nexport { Edit }\r\n"]},"metadata":{},"sourceType":"module"}